<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <script type="text/javascript" src="js/three.min.js"></script>
    <script type="text/javascript" src="js/OrbitControls.js"></script>
    <script type="text/javascript" src="js/stats.min.js"></script>

    <script type="text/javascript" src="js/EffectComposer.js"></script>
    <script type="text/javascript" src="js/RenderPass.js"></script>
    <script type="text/javascript" src="js/CopyShader.js"></script>
    <script type="text/javascript" src="js/ShaderPass.js"></script>

    <script type="text/javascript" src="js/kotlin.js"></script>
    <script type="text/javascript" src="js/lsystem-js.js"></script>
    <title>ü§ñüê¢</title>
    <style>
        body {
            background-color: #000000;
            margin: 0;
            overflow: hidden;
            font-size: 16px;
            font-family: 'Nunito', sans-serif;
        }

        #config-toolbar {
            float: left;
            width: 30vw;
            height: 100vh;
            display: inline-block;
            position: relative;
            text-align: left;
            background: #FAFAFA;
        }

        #config-toolbar .form-field {
            padding: 5px 25px 5px 20px;
        }

        #config-toolbar input {
            width: 100%;
            border: 2px solid #ccc;
            border-radius: 2px;
            transition: border-color 0.2s;
            font-size: 16px;
            font-family: 'Nunito', sans-serif;
        }

        #config-toolbar input:focus {
            border : 2px solid #222;
        }

        #help-wrapper {
            position: absolute;
            top: 70px;
            text-align: center;
            margin: 2px 2px 2px 0.5%;
            width: 99%
        }

        #help {
            text-align: left;
            background: aliceblue;
            display: inline-block;
            width: auto;
            padding: 20px;
        }

        #help ul {
            list-style-type: none;
        }
    </style>
</head>
<body>

<div id="content">
    <div id="config-toolbar">
        <h2 class="form-field">L-System Playground</h2>
        <hr/>
        <div class="form-field">
            <h3><label for="title">Title</label></h3>
            <input type="text" id="title" readonly/>
        </div>
        <div class="form-field">
            <h3><label for="axiom">Axiom</label></h3>
            <input type="text" id="axiom" value="F"/>
        </div>
        <div class="form-field">
            <h3><label for="rules">Rules</label></h3>
            <input type="text" id="rules" value="F => F+F--F+F"/>
        </div>
        <div class="form-field">
            <h3><label for="angle">Angle</label></h3>
            <input type="text" id="angle" value="60"/>
        </div>
        <div class="form-field">
            <h3><label for="iterations">Iterations</label></h3>
            <input type="text" id="iterations" value="2"/>
        </div>
        <div class="form-field">
            <a id="show-help" href="#">Show Help</a>
        </div>
    </div>
</div>

<div id="help-wrapper">
    <div id="help" style="display: none">
        Shortcuts (work when focus is outside of text inputs):
        <ul>
            <li><b>`</b> - toggle toolbar (to change one of the L-System inputs, modify it in the textbox and press
                enter)
            </li>
            <li><b>n</b> - next L-System</li>
            <li><b>N</b> - previous L-System</li>
            <li><b>u</b> - open URL associated with the current L-System</li>
            <li><b>i</b> - increase amount of iterations</li>
            <li><b>I</b> - decrease amount of iterations</li>
            <li><b>a</b> - increase angle by 5 degrees</li>
            <li><b>A</b> - decrease angle by 5 degrees</li>
            <li><b>q</b> - white/black colors</li>
            <li><b>w</b> - black/white colors</li>
            <li><b>c</b> - reset 3d navigation to original position</li>
            <li><b>drag mouse</b> - rotate object in space</li>
            <li><b>ctrl+cmd drag mouse</b> - move object in space</li>
            <li><b>mouse scroll</b> - zoom in/out</li>
        </ul>
        Interpretation of L-System output:
        <ul>
            <li><b>FGHI</b> - draw a line in current direction (note that the path will be closed by connecting the
                first and last point)
            </li>
            <li><b>other letters</b> - no action; only used for substitution rules</li>
            <li><b>[</b> - push current position and angle on stack</li>
            <li><b>]</b> - pop current position and angle from stack</li>
            <li><b>+-</b> - rotate around Z axis (clockwise/counter-clockwise in 2d space)</li>
            <li><b>^&</b> - rotate around Y axis</li>
            <li><b><></b> - rotate around X axis</li>
        </ul>
        L-System rules syntax:
        <ul>
            <li>&lt;rules&gt; ::= &lt;rule&gt; ["; " &lt;rule&gt;]*</li>
            <li>&lt;rule&gt; ::= &lt;char&gt; " =&gt; " &lt;string&gt;</li>
        </ul>
    </div>
</div>
</body>
<script>
    this["lsystem-js"].lsystem.main(window, document);

    let showHelp = document.getElementById("show-help");
    showHelp.addEventListener("click", function() {
        let it = document.getElementById("help");
        if (it.style.display === "none") {
            it.style.display = "";
            showHelp.text = "Hide Help";
        } else {
            it.style.display = "none";
            showHelp.text = "Show Help";
        }
    });
</script>
</html>